// nextflow.config

params {

// ======================== INPUT FILES ==================================
 reads            = null      // e.g. "data/*_{1,2}.fastq.gz"
 outdir           = "results"

// ======================= REFERENCES ====================================
 reference_fasta  = null      // Path to reference genome FASTA
 bwa_index        = null      // Path to BWA index prefix (.bwt)
 gatk_index       = null      // Path to GATK index (.dict)

// ======================= TOOLS DATABASES ===============================
 kraken_db        = null
 snpeff_db        = "Plasmodium_falciparum"
 snpeff_data_dir  = null

// ======================= OPTIONAL FILES ================================
 mask_bed         = null

// ======================= GATK SETTINGS =================================
 tmpdir           = "tmp"
 platform         = "ILLUMINA"
 platform_model   = "Specify platform model"

// Chromosomes (user can override)
 chroms = [
  "Pf3D7_01_v3", "Pf3D7_02_v3", "Pf3D7_03_v3", "Pf3D7_04_v3",
  "Pf3D7_05_v3", "Pf3D7_06_v3", "Pf3D7_07_v3", "Pf3D7_08_v3",
  "Pf3D7_09_v3", "Pf3D7_10_v3", "Pf3D7_11_v3", "Pf3D7_12_v3",
  "Pf3D7_13_v3", "Pf3D7_14_v3",
  "Pf3D7_MIT_v3", "Pf3D7_API_v3"
]
}

// ====================== Work Directory ================================
// Store work directory
workDir = "specify"

// ----------------------------------------------------------------------
// CONDA SUPPORT
// ----------------------------------------------------------------------
conda {
    enabled = true
    cacheDir = "$baseDir/conda_cache"
}

// ----------------------------------------------------------------------
// DEFAULT EXECUTION (local machine)
// ----------------------------------------------------------------------
process {
    executor = 'local'
    cpus     = 4         /can add and specifiy spus for tasking processes
    memory   = '8 GB'
    time     = '4h'
}

// ----------------------------------------------------------------------
// HPC PROFILE EXAMPLE (users should edit for their cluster)
// ----------------------------------------------------------------------
profiles {

    slurm {
        process.executor = 'slurm'
        process.queue    = 'normal'
    }

    test {
        params.reads  = "testdata/*_{1,2}.fastq.gz"
        params.outdir = "test_results"
    }

    singularity {
        enabled   = false       /disabled here
        autoMounts = true
    }

    timeline {
        enabled = true                /for run reports
        file    = "${params.outdir}/timeline.html"
        overwrite = true
    }
    executor {
        queueSize       = 200
        submitRateLimit = '50/1min'
        pollInterval    = '30 sec'
    }
// Optional: queue/partition if your cluster uses them
// process.queue = 'shost'
